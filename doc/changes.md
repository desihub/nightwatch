# Nightwatch change log

* Updated flat standards thresholds ([PR #332](https://github.com/desihub/nightwatch/pulls/332))

## 0.3.0 (2023-01-14)

* Flat cals ([PR #329](https://github.com/desihub/nightwatch/pulls/329))
* Tune cal arcs ([PR #328](https://github.com/desihub/nightwatch/pulls/328))
* Calib arc checks ([PR #326](https://github.com/desihub/nightwatch/pulls/326))
* Select by FIBER instead of TARGETID. ([PR #325](https://github.com/desihub/nightwatch/pulls/325))
* Targetype dec 2022 ([PR #323](https://github.com/desihub/nightwatch/pulls/323))
* Fix for nightwatch monitor on desi-7. ([PR #318](https://github.com/desihub/nightwatch/pulls/318))
* Fix fibermap assembly at KNPO. ([PR #317](https://github.com/desihub/nightwatch/pulls/317))
* Highlight bright unmasked pixels in DARKs. ([PR #316](https://github.com/desihub/nightwatch/pulls/316))
* KPNO fibermap fix nov22 ([PR #313](https://github.com/desihub/nightwatch/pulls/313))
* Add spectrograph labels to CCD QA index page. ([PR #312](https://github.com/desihub/nightwatch/pulls/312))
* Address broken SurveyQA link in exposure tables. ([PR #311](https://github.com/desihub/nightwatch/pulls/311))
* Spectra cleanup nov 22 ([PR #309](https://github.com/desihub/nightwatch/pulls/309))
* Close anchor tag. ([PR #308](https://github.com/desihub/nightwatch/pulls/308))
* Update updating.md ([PR #306](https://github.com/desihub/nightwatch/pulls/306))
* Z5 readnoise update ([PR #305](https://github.com/desihub/nightwatch/pulls/305))
* fixed squashed focalplane plots in Safari ([PR #303](https://github.com/desihub/nightwatch/pulls/303))
* Clean camfiber ([PR #302](https://github.com/desihub/nightwatch/pulls/302))
* Suppress deprecation warnings in bokeh >= 2.3.0. ([PR #300](https://github.com/desihub/nightwatch/pulls/300))
* Revert HelpTool "fix" which broke most plots :/ ([PR #299](https://github.com/desihub/nightwatch/pulls/299))
* Multi index fix ([PR #297](https://github.com/desihub/nightwatch/pulls/297))
* Avoid recursive subprocess creation on OS X. ([PR #296](https://github.com/desihub/nightwatch/pulls/296))
* Cut down deprecation warnings with bokeh > 2.3.0. ([PR #295](https://github.com/desihub/nightwatch/pulls/295))
* Color updates ([PR #294](https://github.com/desihub/nightwatch/pulls/294))
* Dead link -> temporary link to daily nightqa page. ([PR #293](https://github.com/desihub/nightwatch/pulls/293))
* Help links ([PR #292](https://github.com/desihub/nightwatch/pulls/292))
* Bump numpy from 1.19.1 to 1.22.0 in /webapp/Dockerfiles/app ([PR #291](https://github.com/desihub/nightwatch/pulls/291))

## 0.2.0 (2022-08-19)

* Cosmics rate 0 converted to warning for all cameras ([PR #290](https://github.com/desihub/nightwatch/pulls/290))
* Ncpu may22 ([PR #285](https://github.com/desihub/nightwatch/pulls/285))
* Enable prev/next links in preproc table pages. ([PR #282](https://github.com/desihub/nightwatch/pulls/282))
* Fix help redirect for grid plot of CCD images. ([PR #278](https://github.com/desihub/nightwatch/pulls/278))
* Make summary plot consistent with QA pages. ([PR #277](https://github.com/desihub/nightwatch/pulls/277))
* Improvements for accessing preproc plots and logs ([PR #275](https://github.com/desihub/nightwatch/pulls/275))
* read noise thresholds increased by 20% ([PR #274](https://github.com/desihub/nightwatch/pulls/274))
* Add overlay of masked pixels to CCD images. ([PR #272](https://github.com/desihub/nightwatch/pulls/272))
* Fix kwargs incompatible with bokeh version at KPNO. ([PR #269](https://github.com/desihub/nightwatch/pulls/269))
* Redirect HelpTool to Nightwatch wiki. ([PR #268](https://github.com/desihub/nightwatch/pulls/268))
* Convert B camera 0 cosmics errors -> warnings. ([PR #267](https://github.com/desihub/nightwatch/pulls/267))
* Add links to update instructions. ([PR #266](https://github.com/desihub/nightwatch/pulls/266))
* Fixed a bug in reporting qproc fails for the summary tables ([PR #262](https://github.com/desihub/nightwatch/pulls/262))
* Standard reference spectra for arcs and flats ([PR #261](https://github.com/desihub/nightwatch/pulls/261))
* Trace thresh jan22 ([PR #256](https://github.com/desihub/nightwatch/pulls/256))
* Backdated thresholds for reprocessing. ([PR #254](https://github.com/desihub/nightwatch/pulls/254))
* Fibermap fix jan22 ([PR #253](https://github.com/desihub/nightwatch/pulls/253))
* Fix dx jan22 ([PR #251](https://github.com/desihub/nightwatch/pulls/251))
* Camfiber pos fixed ([PR #250](https://github.com/desihub/nightwatch/pulls/250))
* Delete the old README in the bin folder. ([PR #249](https://github.com/desihub/nightwatch/pulls/249))
* Move test instructions to docs and add links. ([PR #248](https://github.com/desihub/nightwatch/pulls/248))
* Fix typo in path name. ([PR #247](https://github.com/desihub/nightwatch/pulls/247))
* Test readme jan22 ([PR #246](https://github.com/desihub/nightwatch/pulls/246))
* Update Z1C thresholds due to voltage adjustment on 22/01/07. ([PR #245](https://github.com/desihub/nightwatch/pulls/245))
* Check environment and clean up path join. ([PR #244](https://github.com/desihub/nightwatch/pulls/244))
* Include image masks in amplifier QA ([PR #243](https://github.com/desihub/nightwatch/pulls/243))
* COSMICS_RATE update + pick threshold code cleanup ([PR #240](https://github.com/desihub/nightwatch/pulls/240))
* ZERO+DARK threshold updates: 20211206 ([PR #236](https://github.com/desihub/nightwatch/pulls/236))
* support 2-amp readout ([PR #233](https://github.com/desihub/nightwatch/pulls/233))
* Clip values for reported RMS Final Move. ([PR #232](https://github.com/desihub/nightwatch/pulls/232))
* ZERO+DARK threshold updates ([PR #231](https://github.com/desihub/nightwatch/pulls/231))
* Read noise threshold update. ([PR #229](https://github.com/desihub/nightwatch/pulls/229))
* Fix focalplane prev/next navigation ([PR #227](https://github.com/desihub/nightwatch/pulls/227))
* Improved camfiber/positioning plots ([PR #225](https://github.com/desihub/nightwatch/pulls/225))
* Composite pre-processed spectrograph frames ([PR #221](https://github.com/desihub/nightwatch/pulls/221))
* Read noise calibration ([PR #217](https://github.com/desihub/nightwatch/pulls/217))
* robust to NIGHT=None; requires latest desispec ([PR #215](https://github.com/desihub/nightwatch/pulls/215))
* Default calibrated spectra plots ([PR #212](https://github.com/desihub/nightwatch/pulls/212))
* Add more info to exposures list ([PR #205](https://github.com/desihub/nightwatch/pulls/205))
* plot robustness; handle coordinates files with and without FIBER column ([PR #189](https://github.com/desihub/nightwatch/pulls/189))
* more robust handling of failed plotting ([PR #187](https://github.com/desihub/nightwatch/pulls/187))
* fix XSS vulnerability ([PR #186](https://github.com/desihub/nightwatch/pulls/186))
* make calendar writing faster ([PR #184](https://github.com/desihub/nightwatch/pulls/184))
* fix random spectra plotting ([PR #181](https://github.com/desihub/nightwatch/pulls/181))
* added a missing logger call to placeholder ([PR #180](https://github.com/desihub/nightwatch/pulls/180))
* pandas, bokeh, bytes, str ([PR #178](https://github.com/desihub/nightwatch/pulls/178))
* batch updates; no tempdir ([PR #177](https://github.com/desihub/nightwatch/pulls/177))
* Improve focal plane plot color scaling ([PR #176](https://github.com/desihub/nightwatch/pulls/176))
* rancher2 docs ([PR #174](https://github.com/desihub/nightwatch/pulls/174))
* redo docker directory structure ([PR #173](https://github.com/desihub/nightwatch/pulls/173))
* XSS changes to placeholder.html ([PR #172](https://github.com/desihub/nightwatch/pulls/172))
* Fix XSS vulnerability in nightwatch Spin service ([PR #171](https://github.com/desihub/nightwatch/pulls/171))
* Xss vulnerability ([PR #170](https://github.com/desihub/nightwatch/pulls/170))
* Fitsio compatibility ([PR #168](https://github.com/desihub/nightwatch/pulls/168))
* Parallelize qa/amp.py ([PR #167](https://github.com/desihub/nightwatch/pulls/167))
* Write to temporary directory ([PR #166](https://github.com/desihub/nightwatch/pulls/166))
* Flag qproc errors ([PR #165](https://github.com/desihub/nightwatch/pulls/165))
* placeholder html for missing plots ([PR #164](https://github.com/desihub/nightwatch/pulls/164))
* Guide image rotation ([PR #163](https://github.com/desihub/nightwatch/pulls/163))
* parallelize noisecorr ([PR #161](https://github.com/desihub/nightwatch/pulls/161))
* Parallelize SNR calculations ([PR #159](https://github.com/desihub/nightwatch/pulls/159))
* fixed amp axis labels ([PR #158](https://github.com/desihub/nightwatch/pulls/158))
* error handling missing guide-rois ([PR #157](https://github.com/desihub/nightwatch/pulls/157))
* amp plot axes ([PR #156](https://github.com/desihub/nightwatch/pulls/156))
* handling exposures with no guide data ([PR #155](https://github.com/desihub/nightwatch/pulls/155))
* preproc images generated in parallel ([PR #154](https://github.com/desihub/nightwatch/pulls/154))
* Adding surveyqa ([PR #153](https://github.com/desihub/nightwatch/pulls/153))
* Add surveyqa ([PR #152](https://github.com/desihub/nightwatch/pulls/152))
* add guide plots page to nightwatch ([PR #151](https://github.com/desihub/nightwatch/pulls/151))
* Posacc ([PR #150](https://github.com/desihub/nightwatch/pulls/150))
* CMX updates ([PR #148](https://github.com/desihub/nightwatch/pulls/148))
* Create webapp_new.py ([PR #131](https://github.com/desihub/nightwatch/pulls/131))
* Update exposures table only for current night ([PR #130](https://github.com/desihub/nightwatch/pulls/130))
* fix spectra plotting with mismatched fibermaps ([PR #129](https://github.com/desihub/nightwatch/pulls/129))
* use obstype instead of flavor ([PR #126](https://github.com/desihub/nightwatch/pulls/126))

## 0.1.0 (2019-10-02)

* Cleanup ([PR #120](https://github.com/desihub/nightwatch/pulls/120))
* rename qqa -> nightwatch ([PR #119](https://github.com/desihub/nightwatch/pulls/119))
* fixed amp plotting bug ([PR #118](https://github.com/desihub/nightwatch/pulls/118))
* Cleaning up/adding documentation ([PR #117](https://github.com/desihub/nightwatch/pulls/117))
* Amp links ([PR #116](https://github.com/desihub/nightwatch/pulls/116))
* added log axis to camfiber plots ([PR #114](https://github.com/desihub/nightwatch/pulls/114))
* Added docker configuration files ([PR #112](https://github.com/desihub/nightwatch/pulls/112))
* switched over from fitsio to astropy ([PR #111](https://github.com/desihub/nightwatch/pulls/111))
* Fix downsampling error ([PR #110](https://github.com/desihub/nightwatch/pulls/110))
* Cleanup branch ([PR #109](https://github.com/desihub/nightwatch/pulls/109))
* Track failed exps ([PR #108](https://github.com/desihub/nightwatch/pulls/108))
* fixed qqa monitor --catchup ([PR #107](https://github.com/desihub/nightwatch/pulls/107))
* Improving readability and making plot formats consistent ([PR #106](https://github.com/desihub/nightwatch/pulls/106))
* Qproc fail tracking ([PR #101](https://github.com/desihub/nightwatch/pulls/101))
* Log flagging ([PR #100](https://github.com/desihub/nightwatch/pulls/100))
* fix bug when running with single camera ([PR #99](https://github.com/desihub/nightwatch/pulls/99))
* Generating summary fits file and using it in timeseries ([PR #98](https://github.com/desihub/nightwatch/pulls/98))
* no np.min() np.max() for empty array ([PR #97](https://github.com/desihub/nightwatch/pulls/97))
* added processed as argument to find_unprocessed_expdir ([PR #96](https://github.com/desihub/nightwatch/pulls/96))
* Robustness ([PR #92](https://github.com/desihub/nightwatch/pulls/92))
* added logfile viewing capabilities ([PR #91](https://github.com/desihub/nightwatch/pulls/91))
* spectro metadata col in exposures table ([PR #90](https://github.com/desihub/nightwatch/pulls/90))
* Aesthetics ([PR #89](https://github.com/desihub/nightwatch/pulls/89))
* Add startdate ([PR #88](https://github.com/desihub/nightwatch/pulls/88))
* Same tab preproc ([PR #87](https://github.com/desihub/nightwatch/pulls/87))
* Spectra nav ([PR #79](https://github.com/desihub/nightwatch/pulls/79))
* Skipping empty directories in qqa-monitor ([PR #78](https://github.com/desihub/nightwatch/pulls/78))
* Timeseries redesign ([PR #77](https://github.com/desihub/nightwatch/pulls/77))
* Preproc redesign ([PR #74](https://github.com/desihub/nightwatch/pulls/74))
* Camfiber to spectra ([PR #73](https://github.com/desihub/nightwatch/pulls/73))
* closed/joined pools in run.py ([PR #72](https://github.com/desihub/nightwatch/pulls/72))
* Adding thresholds branch ([PR #70](https://github.com/desihub/nightwatch/pulls/70))
* fixed camfib-axes for summary page, to match amp plots aesthetic ([PR #69](https://github.com/desihub/nightwatch/pulls/69))
* added frame option to spectra plots ([PR #68](https://github.com/desihub/nightwatch/pulls/68))
* Auto-updating latest exposure summary ([PR #63](https://github.com/desihub/nightwatch/pulls/63))
* resized plot heights ([PR #62](https://github.com/desihub/nightwatch/pulls/62))
* Squished plot fix ([PR #61](https://github.com/desihub/nightwatch/pulls/61))
* Amp line plot ([PR #60](https://github.com/desihub/nightwatch/pulls/60))
* changed QARunner imports and qa __init__ file ([PR #59](https://github.com/desihub/nightwatch/pulls/59))
* changed cached max age ([PR #58](https://github.com/desihub/nightwatch/pulls/58))
* moved code from qqa_web_app to webpages/timeseries.py ([PR #56](https://github.com/desihub/nightwatch/pulls/56))
* Remove webpage module dep ([PR #55](https://github.com/desihub/nightwatch/pulls/55))
* optionally specify host and port for webapp ([PR #54](https://github.com/desihub/nightwatch/pulls/54))
* Camfib webpage generation ([PR #53](https://github.com/desihub/nightwatch/pulls/53))
* Auto-reload exposures table when changed ([PR #52](https://github.com/desihub/nightwatch/pulls/52))
* exptime to exposures table ([PR #51](https://github.com/desihub/nightwatch/pulls/51))
* fibernum x-range plots ([PR #49](https://github.com/desihub/nightwatch/pulls/49))
* added spectra plots to flask app ([PR #48](https://github.com/desihub/nightwatch/pulls/48))
* Qproc batch job ([PR #45](https://github.com/desihub/nightwatch/pulls/45))
* Cleanup ([PR #43](https://github.com/desihub/nightwatch/pulls/43))
* Summary json branch ([PR #41](https://github.com/desihub/nightwatch/pulls/41))
* Fibernum default webpage ([PR #40](https://github.com/desihub/nightwatch/pulls/40))
* Per fibernum ([PR #39](https://github.com/desihub/nightwatch/pulls/39))
* replaced amp graph with line graph ([PR #35](https://github.com/desihub/nightwatch/pulls/35))
* removed PER_CAMFIBER item from json dictionary when autogenerating ([PR #27](https://github.com/desihub/nightwatch/pulls/27))
* Camfiber features ([PR #26](https://github.com/desihub/nightwatch/pulls/26))
* SNR - spectral flux - Throughput  ([PR #25](https://github.com/desihub/nightwatch/pulls/25))
* Camera qa branch ([PR #24](https://github.com/desihub/nightwatch/pulls/24))
* New pregenerate image branch ([PR #23](https://github.com/desihub/nightwatch/pulls/23))
* Fiber flat QA ([PR #22](https://github.com/desihub/nightwatch/pulls/22))
* added pregenerating downsampled x4 images when running run.py ([PR #21](https://github.com/desihub/nightwatch/pulls/21))
* refactored all camfiber code to support columndatasource ([PR #20](https://github.com/desihub/nightwatch/pulls/20))
* Hdu name timeseries branch ([PR #17](https://github.com/desihub/nightwatch/pulls/17))
* Input calendar timeseries branch ([PR #16](https://github.com/desihub/nightwatch/pulls/16))
* added following line to timeseries ([PR #15](https://github.com/desihub/nightwatch/pulls/15))
* Basic timeseries ([PR #13](https://github.com/desihub/nightwatch/pulls/13))
* More camfib plots ([PR #12](https://github.com/desihub/nightwatch/pulls/12))
* add CPU throttling on NERSC login nodes ([PR #11](https://github.com/desihub/nightwatch/pulls/11))
* changed camfiber plots to percentile for dynamic ranges ([PR #10](https://github.com/desihub/nightwatch/pulls/10))
* Trace shift ([PR #9](https://github.com/desihub/nightwatch/pulls/9))
* Noise correlation ([PR #8](https://github.com/desihub/nightwatch/pulls/8))
* Auto ([PR #6](https://github.com/desihub/nightwatch/pulls/6))
* Flask web app branch ([PR #5](https://github.com/desihub/nightwatch/pulls/5))
* added ability to click on an amp tile ([PR #4](https://github.com/desihub/nightwatch/pulls/4))
* Qol expo changes branch ([PR #3](https://github.com/desihub/nightwatch/pulls/3))
* Qol cal changes branch ([PR #2](https://github.com/desihub/nightwatch/pulls/2))
* Calendar nights branch ([PR #1](https://github.com/desihub/nightwatch/pulls/1))
